# MT7697 上使用 GCC 的 GPIO 腳位設定方式

這邊使用MTK SDK包裡面已經有的專案為基礎。

我們先從MTK SDK包裡面的 `gpio_configure_pull_state` 專案來看。

    ./project/linkit7697_hdk/hal_examples/gpio_configure_pull_state

將整個專案資料夾複製一份並改名為成其他名稱

# GPIO Include

下面的指令要include

    #include "hal.h"

# GPIO 基本宣告與設定方式

設定指定的GPIO pin腳的模式為一般的 `GPIO` 模式。 

    hal_gpio_init(HAL_GPIO_33);

接著將之設定輸出(OUTPUT)

    hal_gpio_set_direction(HAL_GPIO_33, HAL_GPIO_DIRECTION_OUTPUT);

如此一來，我們就將之設定為 GPIO -- OUTPUT 的功能

# GPIO 輸出

設定指定GPIO pin 腳為 `GPIO` 模式的輸出模式後，就可以開始操作該pin腳的輸出了。

下面指令將使該pin腳的輸出為高電位HIGH

    hal_gpio_set_output(HAL_GPIO_33, HAL_GPIO_DATA_HIGH);

下面指令將使該pin腳的輸出為低電位 LOW

    hal_gpio_set_output(HAL_GPIO_33, HAL_GPIO_DATA_LOW);

# Reference

下面為MTK官方的HAL GPIO參考資料

    http://labs.mediatek.com/api/mt7697/group___g_p_i_o.html

# main.c 範例程式碼

    #include "hal.h"

    int main(void)
    {
        /* Configure system clock. */
        top_xtal_init();
    
        hal_gpio_init(HAL_GPIO_33);
        hal_pinmux_set_function(HAL_GPIO_33, HAL_GPIO_33_GPIO33);
        hal_gpio_set_direction(HAL_GPIO_33, HAL_GPIO_DIRECTION_OUTPUT);
    	hal_gpio_set_output(HAL_GPIO_33, HAL_GPIO_DATA_HIGH);
    
        for (;;);
    }


